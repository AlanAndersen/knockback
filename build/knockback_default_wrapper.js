// Generated by CoffeeScript 1.3.1
/*
  knockback_default_wrapper.js
  (c) 2011 Kevin Malakoff.
  Knockback.DefaultWrapper is freely distributable under the MIT license.
  See the following for full license details:
    https://github.com/kmalakoff/knockback/blob/master/LICENSE
*/

Knockback.defaultWrapper = function(target_observable, default_value_observable) {
  var default_wrapper_observable;
  default_wrapper_observable = ko.dependentObservable({
    read: function() {
      var default_value, value;
      value = ko.utils.unwrapObservable(target_observable());
      default_value = ko.utils.unwrapObservable(default_value_observable);
      if (value) {
        return value;
      } else {
        return default_value;
      }
    },
    write: function(value) {
      return target_observable(value);
    }
  });
  default_wrapper_observable.setToDefault = function() {
    return default_wrapper_observable(default_value_observable);
  };
  return default_wrapper_observable;
};
